!function(){return function t(n,e,r){function i(u,a){if(!e[u]){if(!n[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=e[u]={exports:{}};n[u][0].call(l.exports,function(t){return i(n[u][1][t]||t)},l,l.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}}()({1:[function(t,n,e){"use strict";var r=t("./index"),i=t("handle-error-web"),o=t("d3-selection"),u=t("accessor"),a=[],c=o.select("#captured-root");document.getElementById("start-button").addEventListener("click",function(){console.log("started"),s.startListening()}),document.getElementById("stop-button").addEventListener("click",function(){console.log("stopListening"),s.stopListening()});var s=r({});function l(t){return"segment-"+t.startTime+"-"+t.stopTime}function f(t){var n=t.blob;return window.URL.createObjectURL(n)}s.on("error",i),s.on("segment",function(t){console.log("Got segment.",t),a.push(t),function(t){var n=c.selectAll(".segment").data(t,l);n.exit().remove();var e=n.enter().append("li").classed("segment",!0);e.append("div").classed("start-time",!0),e.append("div").classed("stop-time",!0),e.append("audio").attr("controls",!0);var r=e.merge(n);r.select(".start-time").text(u("startTime")),r.select(".stop-time").text(u("stopTime")),r.select("audio").attr("src",f)}(a)})},{"./index":3,accessor:4,"d3-selection":12,"handle-error-web":14}],2:[function(t,n,e){"use strict";n.exports={add:function(t,n,e){var r=t[n];r||(r=[],t[n]=r),r.push(e)},remove:function(t,n,e){var r=t[n];if(r){var i=r.indexOf(e);i>-1&&r.splice(i,1)}},clearValuesAtKey:function(t,n){var e=t[n];e&&(e.length=0)},getValuesForKey:function(t,n){var e=t[n];return e&&Array.isArray(e)?e:[]}}},{}],3:[function(t,n,e){"use strict";var r=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=t("voice-activity-detection"),o=t("./dict-of-arrays"),u=t("await-to-js").to,a=t("audio-context-singleton"),c=t("d3-queue").queue,s=t("call-next-tick"),l=t("lodash.curry"),f=t("standard-bail")();function h(t,n,e,r){r({startTime:t,stopTime:n,blob:e})}n.exports=function(t){var n,e,p,v,d=t.fftSize,y=void 0===d?512:d,m=t.bufferLen,g=void 0===m?512:m,_=t.smoothingTimeConstant,w=void 0===_?.2:_,b=t.minCaptureFreq,x=void 0===b?85:b,A=t.maxCaptureFreq,T=void 0===A?255:A,E=t.noiseCaptureDuration,L=void 0===E?1e3:E,S=t.minNoiseLevel,N=void 0===S?.3:S,C=t.maxNoiseLevel,k=void 0===C?.7:C,j=t.avgNoiseMultiplier,O=void 0===j?1.2:j,q=t.segmentCutTimeLimit,M=void 0===q?1e3:q,P=a(),V={},D=!1,F=[];return{on:function(t,n){o.add(V,t,n)},removeListener:function(t,n){o.remove(V,t,n)},startListening:function(){if(!e){var t=c();t.defer(P.getCurrentContext),t.defer(B),t.await(f(U,G))}},stopListening:function(){e&&(e.destroy(),e=null)}};async function B(t){var e=await u(navigator.mediaDevices.getUserMedia({audio:!0})),i=r(e,2),o=i[0],a=i[1];o?t(o):n?s(t,null,a):((n=new MediaRecorder(a)).addEventListener("dataavailable",R),t(null,a))}function R(t){F.push(t.data)}function U(t,n){e=i(t,n,{fftSize:y,bufferLen:g,smoothingTimeConstant:w,minCaptureFreq:x,maxCaptureFreq:T,noiseCaptureDuration:L,minNoiseLevel:N,maxNoiseLevel:k,avgNoiseMultiplier:O,onVoiceStart:$,onVoiceStop:z})}function $(){v=performance.now(),console.log("Voice started.",v),F.length=0,n.start()}function z(){var t,e,r;v&&(t={startTime:v,stopTime:performance.now()},e=t.startTime,r=t.stopTime,D||(D=!0,p=setTimeout(I,M),n.addEventListener("stop",function t(){if(D){n.removeEventListener("stop",t);var i=new Blob(F,{type:"audio/ogg; codecs=opus"}),u=o.getValuesForKey(V,"segment");u.forEach(l(h)(e,r,i)),clearTimeout(p),D=!1}}),"recording"===n.state&&n.stop()))}function I(){D=!1}function G(t){console.error(t,t.stack),o.getValuesForKey(V,"error").forEach(function(n){n(t)})}}},{"./dict-of-arrays":2,"audio-context-singleton":6,"await-to-js":8,"call-next-tick":9,"d3-queue":11,"lodash.curry":15,"standard-bail":17,"voice-activity-detection":18}],4:[function(t,n,e){var r=t("get-at-path");function i(t){return t}n.exports=function(t,n){var e="id";if(t){if("identity"===t)return i;e="string"==typeof t?t:"object"==typeof t&&"string"==typeof t.path?t.path.split("/"):""+t}return function(t,n){return function(e){if("object"==typeof e){var i=function(t,n){return"string"==typeof n?t[n]:Array.isArray(n)?r(t,n):void 0}(e,t);return void 0===i?n:i}return n}}(e,n)}},{"get-at-path":13}],5:[function(t,n,e){var r=t("audio-frequency-to-index");function i(t,n,e,i,o){for(var u=n.context.sampleRate,a=n.frequencyBinCount,c=r(i,u,a),s=r(o,u,a),l=s-c,f=0;c<s;c++)f+=e[c]/t;return 0===l?0:f/l}n.exports=i.bind(null,255),n.exports.floatData=i.bind(null,1)},{"audio-frequency-to-index":7}],6:[function(t,n,e){var r=t("call-next-tick");n.exports=function(){var t;return{getCurrentContext:function(e){t?r(e,null,t):n(e)},getNewContext:n};function n(n,e){var r,i;function o(){var n;r&&r.sampleRate&&(n={sampleRate:r.sampleRate}),t="function"==typeof AudioContext?new AudioContext(n):new webkitAudioContext(n),i(null,t)}"function"==typeof n?i=n:"function"==typeof e&&(i=e,"object"==typeof n&&(r=n)),t?t.close().then(o):o()}}},{"call-next-tick":9}],7:[function(t,n,e){var r=t("clamp");n.exports=function(t,n,e){var i=n/2,o=Math.round(t/i*e);return r(o,0,e)}},{clamp:10}],8:[function(t,n,e){var r,i;r=this,i=function(t){"use strict";function n(t,n){return t.then(function(t){return[null,t]}).catch(function(t){return n&&Object.assign(t,n),[t,void 0]})}t.to=n,t.default=n,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof e&&void 0!==n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(r.awaitToJs={})},{}],9:[function(t,n,e){(function(t){n.exports=function(){var n,e,r,i=arguments.length;if(!(i>0))throw new Error("No callback provided to callNextTick.");n=arguments[0],e=new Array(i-1);for(var o=1;o<i;++o)e[o-1]=arguments[o];r=function(t,n){return function(){t.apply(t,n)}}(n,e),t.nextTick(r)}}).call(this,t("_process"))},{_process:16}],10:[function(t,n,e){n.exports=function(t,n,e){return n<e?t<n?n:t>e?e:t:t<e?e:t>n?n:t}},{}],11:[function(t,n,e){var r,i;r=this,i=function(t){"use strict";var n=[].slice,e={};function r(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function i(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,r=t._tasks[n],i=r.length-1,u=r[i];r[i]=o(t,n),--t._waiting,++t._active,r=u.apply(null,r),t._tasks[n]&&(t._tasks[n]=r||e)}}(t)}catch(n){if(t._tasks[t._ended+t._active-1])u(t,n);else if(!t._data)throw n}}function o(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?u(t,e):(t._data[n]=r,t._waiting?i(t):a(t))))}}function u(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,a(t)}function a(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function c(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new r(t)}r.prototype=c.prototype={constructor:r,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=n.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),i(this),this},abort:function(){return null==this._error&&u(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},a(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,a(this),this}},t.queue=c,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof e&&void 0!==n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(r.d3=r.d3||{})},{}],12:[function(t,n,e){var r,i;r=this,i=function(t){"use strict";var n="http://www.w3.org/1999/xhtml",e={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),e.hasOwnProperty(n)?{space:e[n],local:t}:t}function i(t){var e=r(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===n&&e.documentElement.namespaceURI===n?e.createElement(t):e.createElementNS(r,t)}})(e)}function o(){}function u(t){return null==t?o:function(){return this.querySelector(t)}}function a(){return[]}function c(t){return null==t?a:function(){return this.querySelectorAll(t)}}function s(t){return function(){return this.matches(t)}}function l(t){return new Array(t.length)}function f(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var h="$";function p(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new f(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function v(t,n,e,r,i,o,u){var a,c,s,l={},p=n.length,v=o.length,d=new Array(p);for(a=0;a<p;++a)(c=n[a])&&(d[a]=s=h+u.call(c,c.__data__,a,n),s in l?i[a]=c:l[s]=c);for(a=0;a<v;++a)(c=l[s=h+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],l[s]=null):e[a]=new f(t,o[a]);for(a=0;a<p;++a)(c=n[a])&&l[d[a]]===c&&(i[a]=c)}function d(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function y(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function m(t,n){return t.style.getPropertyValue(n)||y(t).getComputedStyle(t,null).getPropertyValue(n)}function g(t){return t.trim().split(/^|\s+/)}function _(t){return t.classList||new w(t)}function w(t){this._node=t,this._names=g(t.getAttribute("class")||"")}function b(t,n){for(var e=_(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function x(t,n){for(var e=_(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function A(){this.textContent=""}function T(){this.innerHTML=""}function E(){this.nextSibling&&this.parentNode.appendChild(this)}function L(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S(){return null}function N(){var t=this.parentNode;t&&t.removeChild(this)}function C(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function k(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}w.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var j={};(t.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(j={mouseenter:"mouseover",mouseleave:"mouseout"}));function O(t,n,e){return t=q(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function q(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function M(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function P(t,n,e){var r=j.hasOwnProperty(t.type)?O:q;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var l=0,f=c.length;l<f;++l)if((a=c[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function V(t,n,e){var r=y(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var D=[null];function F(t,n){this._groups=t,this._parents=n}function B(){return new F([[document.documentElement]],D)}function R(t){return"string"==typeof t?new F([[document.querySelector(t)]],[document.documentElement]):new F([[t]],D)}F.prototype=B.prototype={constructor:F,select:function(t){"function"!=typeof t&&(t=u(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,c=n[i],s=c.length,l=r[i]=new Array(s),f=0;f<s;++f)(o=c[f])&&(a=t.call(o,o.__data__,f,c))&&("__data__"in o&&(a.__data__=o.__data__),l[f]=a);return new F(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=c(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],s=a.length,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new F(r,i)},filter:function(t){"function"!=typeof t&&(t=s(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&c.push(o);return new F(r,this._parents)},data:function(t,n){if(!t)return y=new Array(this.size()),l=-1,this.each(function(t){y[++l]=t}),y;var e,r=n?v:p,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),c=new Array(u),s=new Array(u),l=0;l<u;++l){var f=i[l],h=o[l],d=h.length,y=t.call(f,f&&f.__data__,l,i),m=y.length,g=c[l]=new Array(m),_=a[l]=new Array(m);r(f,h,g,_,s[l]=new Array(d),y,n);for(var w,b,x=0,A=0;x<m;++x)if(w=g[x]){for(x>=A&&(A=x+1);!(b=_[A])&&++A<m;);w._next=b||null}}return(a=new F(a,i))._enter=c,a._exit=s,a},enter:function(){return new F(this._enter||this._groups.map(l),this._parents)},exit:function(){return new F(this._exit||this._groups.map(l),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],l=e[a],f=s.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new F(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=d);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(n)}return new F(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=r(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):m(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=g(t+"");if(arguments.length<2){for(var r=_(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?b:x)(this,t)}}:n?function(t){return function(){b(this,t)}}:function(t){return function(){x(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?A:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?T:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(E)},lower:function(){return this.each(L)},append:function(t){var n="function"==typeof t?t:i(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:i(t),r=null==n?S:"function"==typeof n?n:u(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(N)},clone:function(t){return this.select(t?k:C)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?P:M,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,l=a.length;s<l;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return V(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return V(this,t,n)}})(t,n))}};var U=0;function $(){return new z}function z(){this._="@"+(++U).toString(36)}function I(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function G(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}z.prototype=$.prototype={constructor:z,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},t.create=function(t){return R(i(t).call(document.documentElement))},t.creator=i,t.local=$,t.matcher=s,t.mouse=function(t){var n=I();return n.changedTouches&&(n=n.changedTouches[0]),G(t,n)},t.namespace=r,t.namespaces=e,t.clientPoint=G,t.select=R,t.selectAll=function(t){return"string"==typeof t?new F([document.querySelectorAll(t)],[document.documentElement]):new F([null==t?[]:t],D)},t.selection=B,t.selector=u,t.selectorAll=c,t.style=m,t.touch=function(t,n,e){arguments.length<3&&(e=n,n=I().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return G(t,r);return null},t.touches=function(t,n){null==n&&(n=I().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=G(t,n[e]);return i},t.window=y,t.customEvent=function(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof e&&void 0!==n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(r.d3=r.d3||{})},{}],13:[function(t,n,e){n.exports=function(t,n){var e=t;if(n.every(function(t){return e=e[t]},!0))return e}},{}],14:[function(t,n,e){n.exports=function(t){if(t){console.error(t,t.stack);var n="";t.name&&(n+=t.name+": "),n+=t.message,t.stack&&(n+=" | "+t.stack.toString()),function(t){var n=document.getElementById("status-message");n.textContent=t,n.classList.remove("hidden")}(n)}}},{}],15:[function(t,n,e){(function(t){var e="Expected a function",r="__lodash_placeholder__",i=1,o=2,u=4,a=8,c=16,s=32,l=64,f=128,h=512,p=1/0,v=9007199254740991,d=1.7976931348623157e308,y=NaN,m=[["ary",f],["bind",i],["bindKey",o],["curry",a],["curryRight",c],["flip",h],["partial",s],["partialRight",l],["rearg",256]],g="[object Function]",_="[object GeneratorFunction]",w="[object Symbol]",b=/^\s+|\s+$/g,x=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,A=/\{\n\/\* \[wrapped with (.+)\] \*/,T=/,? & /,E=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,S=/^\[object .+?Constructor\]$/,N=/^0o[0-7]+$/i,C=/^(?:0|[1-9]\d*)$/,k=parseInt,j="object"==typeof t&&t&&t.Object===Object&&t,O="object"==typeof self&&self&&self.Object===Object&&self,q=j||O||Function("return this")();function M(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function P(t,n){return!!(t?t.length:0)&&function(t,n,e){if(n!=n)return function(t,n,e,r){var i=t.length,o=e+(r?1:-1);for(;r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}(t,V,e);var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,0)>-1}function V(t){return t!=t}function D(t,n){for(var e=-1,i=t.length,o=0,u=[];++e<i;){var a=t[e];a!==n&&a!==r||(t[e]=r,u[o++]=e)}return u}var F,B,R,U=Function.prototype,$=Object.prototype,z=q["__core-js_shared__"],I=(F=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",G=U.toString,K=$.hasOwnProperty,H=$.toString,X=RegExp("^"+G.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=Object.create,J=Math.max,Q=Math.min,W=(B=ot(Object,"defineProperty"),(R=ot.name)&&R.length>2?B:void 0);function Z(t){return!(!st(t)||I&&I in t)&&(function(t){var n=st(t)?H.call(t):"";return n==g||n==_}(t)||function(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}(t)?X:S).test(function(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function tt(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e,r=st(e=t.prototype)?Y(e):{},i=t.apply(r,n);return st(i)?i:r}}function nt(t,n,e,r,u,s,l,p,v,d){var y=n&f,m=n&i,g=n&o,_=n&(a|c),w=n&h,b=g?void 0:tt(t);return function i(){for(var o=arguments.length,a=Array(o),c=o;c--;)a[c]=arguments[c];if(_)var f=it(i),h=function(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&r++;return r}(a,f);if(r&&(a=function(t,n,e,r){for(var i=-1,o=t.length,u=e.length,a=-1,c=n.length,s=J(o-u,0),l=Array(c+s),f=!r;++a<c;)l[a]=n[a];for(;++i<u;)(f||i<o)&&(l[e[i]]=t[i]);for(;s--;)l[a++]=t[i++];return l}(a,r,u,_)),s&&(a=function(t,n,e,r){for(var i=-1,o=t.length,u=-1,a=e.length,c=-1,s=n.length,l=J(o-a,0),f=Array(l+s),h=!r;++i<l;)f[i]=t[i];for(var p=i;++c<s;)f[p+c]=n[c];for(;++u<a;)(h||i<o)&&(f[p+e[u]]=t[i++]);return f}(a,s,l,_)),o-=h,_&&o<d){var x=D(a,f);return et(t,n,nt,i.placeholder,e,a,x,p,v,d-o)}var A=m?e:this,T=g?A[t]:t;return o=a.length,p?a=function(t,n){for(var e=t.length,r=Q(n.length,e),i=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}(t);r--;){var o=n[r];t[r]=ut(o,e)?i[o]:void 0}return t}(a,p):w&&o>1&&a.reverse(),y&&v<o&&(a.length=v),this&&this!==q&&this instanceof i&&(T=b||tt(T)),T.apply(A,a)}}function et(t,n,e,r,c,f,h,p,v,d){var y=n&a;n|=y?s:l,(n&=~(y?l:s))&u||(n&=~(i|o));var m=e(t,n,c,y?f:void 0,y?h:void 0,y?void 0:f,y?void 0:h,p,v,d);return m.placeholder=r,at(m,t,n)}function rt(t,n,r,u,f,h,p,v){var d=n&o;if(!d&&"function"!=typeof t)throw new TypeError(e);var y=u?u.length:0;if(y||(n&=~(s|l),u=f=void 0),p=void 0===p?p:J(ft(p),0),v=void 0===v?v:ft(v),y-=f?f.length:0,n&l){var m=u,g=f;u=f=void 0}var _=[t,n,r,u,f,m,g,h,p,v];if(t=_[0],n=_[1],r=_[2],u=_[3],f=_[4],!(v=_[9]=null==_[9]?d?0:t.length:J(_[9]-y,0))&&n&(a|c)&&(n&=~(a|c)),n&&n!=i)w=n==a||n==c?function(t,n,e){var r=tt(t);return function i(){for(var o=arguments.length,u=Array(o),a=o,c=it(i);a--;)u[a]=arguments[a];var s=o<3&&u[0]!==c&&u[o-1]!==c?[]:D(u,c);return(o-=s.length)<e?et(t,n,nt,i.placeholder,void 0,u,s,void 0,void 0,e-o):M(this&&this!==q&&this instanceof i?r:t,this,u)}}(t,n,v):n!=s&&n!=(i|s)||f.length?nt.apply(void 0,_):function(t,n,e,r){var o=n&i,u=tt(t);return function n(){for(var i=-1,a=arguments.length,c=-1,s=r.length,l=Array(s+a),f=this&&this!==q&&this instanceof n?u:t;++c<s;)l[c]=r[c];for(;a--;)l[c++]=arguments[++i];return M(f,o?e:this,l)}}(t,n,r,u);else var w=function(t,n,e){var r=n&i,o=tt(t);return function n(){return(this&&this!==q&&this instanceof n?o:t).apply(r?e:this,arguments)}}(t,n,r);return at(w,t,n)}function it(t){return t.placeholder}function ot(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return Z(e)?e:void 0}function ut(t,n){return!!(n=null==n?v:n)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<n}var at=W?function(t,n,e){var r,i=n+"";return W(t,"toString",{configurable:!0,enumerable:!1,value:(r=function(t,n){var e=n.length,r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(x,"{\n/* [wrapped with "+n+"] */\n")}(i,function(t,n){return function(t,n){for(var e=-1,r=t?t.length:0;++e<r&&!1!==n(t[e],e,t););}(m,function(e){var r="_."+e[0];n&e[1]&&!P(t,r)&&t.push(r)}),t.sort()}(function(t){var n=t.match(A);return n?n[1].split(T):[]}(i),e)),function(){return r})})}:function(t){return t};function ct(t,n,e){var r=rt(t,a,void 0,void 0,void 0,void 0,void 0,n=e?void 0:n);return r.placeholder=ct.placeholder,r}function st(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function lt(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&H.call(t)==w}(t))return y;if(st(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=st(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(b,"");var e=L.test(t);return e||N.test(t)?k(t.slice(2),e?2:8):E.test(t)?y:+t}(t))===p||t===-p?(t<0?-1:1)*d:t==t?t:0:0===t?t:0}function ft(t){var n=lt(t),e=n%1;return n==n?e?n-e:n:0}ct.placeholder={},n.exports=ct}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(t,n,e){var r,i,o=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(n){try{return r.call(null,t,0)}catch(n){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u}catch(t){r=u}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var s,l=[],f=!1,h=-1;function p(){f&&s&&(f=!1,s.length?l=s.concat(l):h=-1,l.length&&v())}function v(){if(!f){var t=c(p);f=!0;for(var n=l.length;n;){for(s=l,l=[];++h<n;)s&&s[h].run();h=-1,n=l.length}s=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(n){try{return i.call(null,t)}catch(n){return i.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function y(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];l.push(new d(t,n)),1!==l.length||f||c(v)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],17:[function(t,n,e){n.exports=function(t){var n;return t&&(n=t.log),function(t,e){return function(r){if(r)n&&(r.stack?n(r,r.stack):n(r)),e&&e(r);else if(t){var i=Array.prototype.slice.call(arguments,1);e&&i.push(e),t.apply(t,i)}}}}},{}],18:[function(t,n,e){"use strict";var r=t("analyser-frequency-average");n.exports=function(t,n,e){e=e||{};var i={fftSize:1024,bufferLen:1024,smoothingTimeConstant:.2,minCaptureFreq:85,maxCaptureFreq:255,noiseCaptureDuration:1e3,minNoiseLevel:.3,maxNoiseLevel:.7,avgNoiseMultiplier:1.2,onVoiceStart:function(){},onVoiceStop:function(){},onUpdate:function(t){}},o={};for(var u in i)o[u]=e.hasOwnProperty(u)?e[u]:i[u];var a=0,c=1,s=0,l=0,f=60,h=5,p=[],v=!0,d=void 0,y=!1,m=null,g=t.createMediaStreamSource(n),_=t.createAnalyser();_.smoothingTimeConstant=o.smoothingTimeConstant,_.fftSize=o.fftSize;var w=t.createScriptProcessor(o.bufferLen,1,1);function b(){g.connect(_),_.connect(w),w.connect(t.destination)}function x(){w.disconnect(),_.disconnect(),g.disconnect()}return b(),w.onaudioprocess=function(){var t=new Uint8Array(_.frequencyBinCount);_.getByteFrequencyData(t);var n=r(_,t,o.minCaptureFreq,o.maxCaptureFreq);if(v)return void p.push(n);n>=a&&s<f?s++:n<a&&s>l&&s--;d!==(y=s>h)&&(y?o.onVoiceStart():o.onVoiceStop(),d=y);o.onUpdate(Math.max(0,n-a)/c)},v&&(m=setTimeout(function(){v=!1;var t=(p=p.filter(function(t){return t}).sort()).length?p.reduce(function(t,n){return Math.min(t,n)},1):o.minNoiseLevel||.1;a=t*o.avgNoiseMultiplier,o.minNoiseLevel&&a<o.minNoiseLevel&&(a=o.minNoiseLevel);o.maxNoiseLevel&&a>o.maxNoiseLevel&&(a=o.maxNoiseLevel);c=1-a},o.noiseCaptureDuration)),{connect:b,disconnect:x,destroy:function(){m&&clearTimeout(m),x(),w.onaudioprocess=null}}}},{"analyser-frequency-average":5}]},{},[1]);